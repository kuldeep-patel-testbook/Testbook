<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Async And Await Practice Code</title>
</head>
<body>
    <h1>JavaScript Async And Await</h1>
    <p id="text"></p>

    <script>
        const anime = [
            {
                title: `Naruto`,
                body: `Naruto is a Japanese manga series writtenand illustrated by Masashi Kishimoto. It tells the story of Naruto Uzumaki,a young ninja who seeks recognition from his peers and dreams of becomingthe Hokage, the leader of his village.`
            },
            {
                title: `Doraemon`,
                body: `Nobita Nobi is a ten-year-old Japaneseschool boy, who is kind-hearted and honest, but also lazy, unlucky, weak,gets bad grades and is bad at sports. One day, a robot cat from the 22ndcentury named Doraemon is sent back to the past by Nobita's descendants totake care of Nobita so that his descendants can have a better life.`
            }
        ]
        
        function createanime(anime_series) {

            return new Promise((resolve, reject) => {

                setTimeout(() => {
                    anime.push(anime_series);
                    const error = false;

                    if(!error) {
                        resolve();
                    } else {
                        reject('Error: Something went wrong!');
                    }
                }, 2000);
            });
        }

        const elementInside =  document.getElementById("text");

        function getanime() {
            setTimeout(() => {
                anime.forEach((anime_series, index) => {
                    console.log(anime_series.title);
                    const elementCreate = document.createElement("div");
                    elementCreate.innerHTML = `<p><b>${anime_series.title}</b></p><p>${anime_series.body}</p>`;
                    elementInside.appendChild(elementCreate);        
                })
            }, 1000);
        }

        async function display() {
            await createanime({
                title: `Dragon Ball`,
                body: `Earth, known asthe Dragon World and designated as "Planet 4032-877" by the celestialhierarchy, is the main setting for the entire Dragon Ball series, as well asrelated media such as Dr. Slump, Nekomajin, and Jaco the Galactic Patrolman.It is mainly inhabited by Earthlings , a term used inclusively to refer toall of the intelligent races native to the planet, including humans,anthropomorphic beings, and monsters.`
            })
            getanime();
        }
        display();
    </script>
</body>
</html>